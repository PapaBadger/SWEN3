<!--
  button-component.html
  ---------------------
  Simple UI to exercise the REST API:
  - Create: POST a new document with title/content.
  - Read:   GET all documents.
  - Update: PUT new title/content for a given ID.
  - Delete: DELETE a document by ID.
-->
<section>
  <div class="example-label">Documents</div>

  <!-- Action row: all CRUD actions + small inputs -->
  <div class="example-button-row" style="display:flex; gap:12px; align-items:center; flex-wrap:wrap;">

    <!-- CREATE (POST) -->
    <!-- Title/content for the new document; disabled until title is non-empty -->
    <input type="text" placeholder="New title" [(ngModel)]="newTitle" name="newTitle" />
    <input type="text" placeholder="New content" [(ngModel)]="newContent" name="newContent" />
    <button mat-button (click)="onCreate()" [disabled]="creating || !newTitle.trim()">
      {{ creating ? 'Creating…' : 'Create (POST)' }}
    </button>

    <!-- READ (GET) -->
    <!-- Refresh the list of documents from the backend -->
    <button mat-button (click)="onGet()">Get (GET)</button>

    <!-- UPDATE (PUT) -->
    <!-- Provide id to update; new title/content are applied as-is -->
    <input type="number" placeholder="ID to update" [(ngModel)]="updateId" name="updateId" />
    <input type="text" placeholder="New title (optional)" [(ngModel)]="updateTitle" name="updateTitle" />
    <input type="text" placeholder="New content (optional)" [(ngModel)]="updateContent" name="updateContent" />
    <button mat-button (click)="onUpdate()" [disabled]="updating || !updateId">
      {{ updating ? 'Updating…' : 'Update (PUT)' }}
    </button>

    <!-- DELETE -->
    <!-- Remove a document by id -->
    <input type="number" placeholder="ID to delete" [(ngModel)]="deleteId" name="deleteId" />
    <button mat-button (click)="onDelete()" [disabled]="deleting || !deleteId">
      {{ deleting ? 'Deleting…' : 'Delete (DELETE)' }}
    </button>
  </div>

  <!-- Results -->
  <!-- Results list: rendered only when documents array has items -->
  <div *ngIf="documents?.length" style="margin-top:12px;">
    <div *ngFor="let d of documents" style="padding:6px 0; border-bottom:1px solid #eee;">
      <strong>#{{ d.id }}</strong> — {{ d.title }} — {{ d.content }}
    </div>
  </div>
</section>
